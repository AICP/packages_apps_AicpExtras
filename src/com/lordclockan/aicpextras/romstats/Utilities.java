/*
 * Copyright (C) 2012 The CyanogenMod Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.lordclockan.aicpextras.romstats;

import java.io.File;
import java.math.BigInteger;
import java.net.NetworkInterface;
import java.security.MessageDigest;
import java.util.Locale;
import java.lang.Object; 

import android.content.ComponentName;
import android.content.Context;
import android.content.SharedPreferences;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.content.pm.Signature;
import android.content.pm.PackageManager.NameNotFoundException;
import android.os.Environment;
import android.os.SystemProperties;
import android.preference.PreferenceManager;
import android.telephony.TelephonyManager;
import android.util.Log;
import android.util.Slog;

public class Utilities {
	public static final String SETTINGS_PREF_NAME = "ROMStats";
	public static final String TAG = "ROMStats";

	public static String getUniqueID(Context ctx) {
		TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);

		String device_id = digest(tm.getDeviceId());
		if (device_id == null) {
			String wifiInterface = SystemProperties.get("wifi.interface");
			try {
				String wifiMac = new String(NetworkInterface.getByName(wifiInterface).getHardwareAddress());
				device_id = digest(wifiMac);
			} catch (Exception e) {
				device_id = null;
			}
		}

		return device_id;
	}

	public static String getStatsUrl() {
		String returnUrl = SystemProperties.get("ro.romstats.url");

		if (returnUrl.isEmpty()) {
			return null;
		}
		
		// if the last char of the link is not /, add it
		if (!returnUrl.substring(returnUrl.length() - 1).equals("/")) {
			returnUrl += "/";
		}

		return returnUrl;
	}

	public static String getCarrier(Context ctx) {

           String[] operator = new String[] {
	            "41201", "AWCC",
	            "41220", "Roshan",
	            "41240", "MTN",
	            "41250", "Etisalat",
	            "27601", "AMC",
	            "27602", "Vodafone",
	            "27603", "Eagle Mobile",
	            "27604", "Plus Communication",
	            "60301", "Mobilis",
	            "60302", "Djezzy",
	            "60303", "Nedjma",
	            "54411", "Bluesky",
	            "21303", "Mobiland",
	            "63102", "UNITEL",
	            "63104", "MOVICEL",
	            "34430", "APUA",
	            "344920", "LIME",
	            "34450", "Digicel",
	            "72210", "Movistar",
	            "72220", "Nextel",
	            "72240", "Globalstar",
	            "72270", "Movistar",
	            "722310", "Claro",
	            "722320", "Claro",
	            "722330", "Claro",
	            "722340", "Personal",
	            "722350", "PORT-HABLE",
	            "28301", "Beeline",
	            "28305", "VivaCell-MTS",
	            "28310", "Orange",
	            "36301", "SETAR",
	            "36320", "Digicel",
	            "50501", "Telstra",
	            "50502", "Optus",
	            "50503", "Vodafone",
	            "50505", "Ozitel",
	            "50506", "3",
	            "50508", "One.Tel",
	            "50509", "Airnet",
	            "50510", "Norfolk Is.",
	            "50512", "3",
	            "50513", "Railcorp",
	            "50514", "AAPT",
	            "50515", "3GIS",
	            "50516", "Victorian Rail Track",
	            "50518", "Pactel",
	            "50519", "Lycamobile Pty Ltd",
	            "50521", "SOUL",
	            "50524", "Advance Communications Technologies Pty. Ltd.",
	            "50538", "Crazy John's",
	            "50571", "Telstra",
	            "50572", "Telstra",
	            "50588", "Localstar Holding Pty. Ltd.",
	            "50590", "Optus",
	            "50599", "One.Tel",
	            "23201", "A1 TA",
	            "23202", "A1 TA",
	            "23203", "T-Mobile AT",
	            "23205", "Orange AT",
	            "23206", "Orange AT",
	            "23207", "tele.ring",
	            "23208", "Telefonica",
	            "23209", "A1 TA",
	            "23210", "3AT",
	            "23211", "bob",
	            "23212", "yesss!",
	            "23214", "3AT",
	            "23215", "Barablu",
	            "23216", "3",
	            "23291", "GSM-R A",
	            "40001", "Azercell",
	            "40002", "Bakcell",
	            "40003", "FONEX",
	            "40004", "Nar Mobile",
	            "36439", "BaTelCo",
	            "42601", "Batelco",
	            "42602", "zain BH",
	            "42604", "VIVA",
	            "42605", "Batelco",
	            "47001", "Grameenphone",
	            "47002", "Robi",
	            "47003", "Banglalink Sheba",
	            "47004", "TeleTalk",
	            "47005", "Citycell",
	            "47006", "Beeong3G",
	            "47007", "Airtel formerly Warid Telcom",
	            "342600", "LIME",
	            "342750", "Digicel",
	            "25701", "velcom",
	            "25702", "MTS",
	            "25703", "DIALLOG",
	            "25704", "life:)",
	            "257501", "BelCel JV",
	            "20601", "Proximus",
	            "20605", "Telenet",
	            "20610", "Mobistar",
	            "20620", "BASE",
	            "70267", "DigiCell",
	            "70299", "Smart",
	            "61601", "Libercom",
	            "61602", "Moov",
	            "61603", "MTN",
	            "61604", "BBCOM",
	            "61604", "Glo",
	            "61604", "BLK",
	            "35001", "Digicel Bermuda",
	            "35002", "Mobility",
	            "33850", "Digicel Bermuda",
	            "31059", "Cellular One",
	            "40211", "B-Mobile",
	            "40277", "TashiCell",
	            "73601", "Nuevatel",
	            "73602", "Entel",
	            "73603", "Tigo",
	            "21803", "HT-ERONET",
	            "21805", "m:tel",
	            "21890", "BH Mobile",
	            "65201", "Mascom",
	            "65202", "Orange",
	            "65204", "BTC Mobile",
	            "72400", "Nextel",
	            "72402", "TIM",
	            "72403", "TIM",
	            "72404", "TIM",
	            "72405", "Claro BR",
	            "72406", "Vivo",
	            "72455", "Sercomtel",
	            "72410", "Vivo",
	            "72411", "Vivo",
	            "72415", "CTBC Celular",
	            "72416", "Brasil Telecom GSM",
	            "72423", "Vivo",
	            "72431", "Oi",
	            "72432", "CTBC Celular",
	            "72433", "CTBC Celular",
	            "72434", "CTBC Celular",
	            "72439", "Nextel",
	            "348170", "LIME",
	            "348570", "CCT Boatphone",
	            "348770", "Digicel",
	            "52802", "B-Mobile",
	            "52811", "DSTCom",
	            "28401", "M-Tel",
	            "28403", "Vivacom",
	            "28404", "Undisclosed",
	            "28405", "GLOBUL",
	            "61301", "Telmob",
	            "61302", "Airtel",
	            "61303", "Telecel Faso",
	            "64201", "Spacetel",
	            "64202", "Tempo",
	            "64203", "Onatel",
	            "64207", "Smart Mobile",
	            "64208", "HiTs Telecom",
	            "64282", "Leo",
	            "45601", "Mobitel",
	            "45602", "hello",
	            "45604", "qb",
	            "45605", "Star-Cell",
	            "45606", "Smart Mobile",
	            "45618", "Mfone",
	            "45611", "Excell",
	            "45609", "Beeline",
	            "45608", "Metfone",
	            "62401", "MTN Cameroon",
	            "62402", "Orange",
	            "302220", "Telus",
	            "302221", "Telus",
	            "302270", "unknown",
	            "302320", "Mobilicity",
	            "302350", "FIRST",
	            "302360", "MiKe",
	            "302361", "Telus",
	            "302370", "Fido",
	            "302380", "DMTS",
	            "302490", "WIND Mobile",
	            "302500", "Videotron",
	            "302510", "Videotron",
	            "302610", "Bell",
	            "302610", "Bell",
	            "302620", "ICE Wireless",
	            "302640", "Bell",
	            "302653", "Telus",
	            "302655", "MTS",
	            "302656", "TBay",
	            "302657", "Telus",
	            "302660", "MTS",
	            "302680", "SaskTel",
	            "302690", "Bell",
	            "302710", "Globalstar",
	            "302720", "Rogers Wireless",
	            "302780", "SaskTel",
	            "302880", "Bell / Telus /SaskTel",
	            "62501", "CVMOVEL",
	            "62502", "T+",
	            "346140", "LIME",
	            "34650", "Digicel",
	            "62301", "CTP",
	            "62302", "TC",
	            "62303", "Orange",
	            "62304", "Nationlink",
	            "62201", "Airtel",
	            "62202", "Tchad Mobile",
	            "62202", "Tawali",
	            "62203", "Tigo",
	            "62204", "Salam",
	            "73001", "entel",
	            "73002", "movistar",
	            "73003", "Claro",
	            "73004", "Nextel",
	            "73007", "Virgin Mobile",
	            "73008", "VTR Móvil",
	            "73009", "Nextel",
	            "73010", "entel",
	            "73099", "Will",
	            "46000", "China Mobile",
	            "46001", "China Unicom",
	            "46002", "China Mobile",
	            "46003", "China Telecom",
	            "46005", "China Telecom",
	            "46006", "China Unicom",
	            "46007", "China Mobile",
	            "46020", "China Tietong",
	            "73202", "Edatel",
	            "732101", "Claro",
	            "732102", "movistar",
	            "732103", "Tigo",
	            "732111", "Tigo",
	            "732123", "movistar",
	            "62901", "Airtel",
	            "62910", "Libertis Telecom",
	            "71201", "Kolbi ICE",
	            "71202", "Kolbi ICE",
	            "71203", "Claro",
	            "71204", "movistar",
	            "71217", "fullmóvil",
	            "21901", "T-Mobile",
	            "21902", "Tele2",
	            "21910", "Vip",
	            "36801", "CUBACEL",
	            "28001", "Cytamobile-Vodafone",
	            "28010", "MTN",
	            "28020", "PrimeTel",
	            "23001", "T-Mobile",
	            "23002", "O2",
	            "23003", "Vodafone",
	            "23004", "U:fon",
	            "23099", "Vodafone",
	            "63001", "Vodacom",
	            "63002", "Zain",
	            "63005", "Supercell",
	            "63010", "Libertis Telecom",
	            "63086", "CCT",
	            "63089", "Tigo DRC",
	            "630992", "Africell",
	            "23801", "TDC",
	            "23802", "Telenor",
	            "23803", "End2End",
	            "23806", "3",
	            "23808", "Nordisk Mobiltelefon",
	            "23810", "TDC",
	            "23820", "Telia",
	            "23823", "GSM-R DK",
	            "23830", "Telia",
	            "23877", "Telenor",
	            "63801", "Evatis",
	            "36620", "Digicel",
	            "37001", "Orange",
	            "37002", "Claro",
	            "37003", "Tricom",
	            "37004", "Viva",
	            "51401", "Telin",
	            "74000", "Movistar",
	            "74001", "Claro",
	            "74002", "CNT Mobile",
	            "60201", "Mobinil",
	            "60202", "Vodafone",
	            "60203", "Etisalat",
	            "70601", "CTE Telecom Personal",
	            "70602", "digicel",
	            "70603", "Tigo",
	            "70604", "movistar",
	            "70601", "Claro",
	            "62701", "Orange GQ",
	            "62703", "Hits GQ",
	            "65701", "Eritel",
	            "24801", "EMT",
	            "24802", "Elisa",
	            "24803", "Tele 2",
	            "63601", "ETH-MTN",
	            "28801", "Faroese Telecom",
	            "28802", "Vodafone",
	            "54201", "Vodafone",
	            "54202", "Digicel",
	            "24403", "DNA",
	            "24404", "AINA",
	            "24405", "Elisa",
	            "24407", "Nokia",
	            "24409", "Finnet Group / NOKIA OYJ",
	            "24410", "TDC",
	            "24411", "VIRVE",
	            "24412", "DNA",
	            "24414", "AMT",
	            "24415", "SAMK",
	            "24421", "Saunalahti",
	            "24491", "Sonera",
	            "20801", "Orange",
	            "20802", "Orange",
	            "20804", "Sisteer (MVNE)",
	            "20810", "SFR",
	            "20811", "SFR",
	            "20813", "SFR",
	            "20814", "RFF",
	            "20815", "Free Mobile",
	            "20820", "Bouygues",
	            "20821", "Bouygues",
	            "20822", "Transatel Mobile",
	            "20823", "Virgin Mobile (MVNO)",
	            "20826", "NRJ Mobile (MVNO)",
	            "20888", "Bouygues",
	            "54720", "Vini",
	            "62801", "Libertis",
	            "62802", "Moov",
	            "62803", "Airtel",
	            "62804", "Azur",
	            "60701", "Gamcel",
	            "60702", "Africel",
	            "60703", "Comium",
	            "60704", "QCell",
	            "28201", "Geocell",
	            "28202", "MagtiCom",
	            "28203", "MagtiCom",
	            "28204", "Beeline",
	            "28205", "Silknet",
	            "26201", "T-Mobile",
	            "26202", "Vodafone",
	            "26203", "E-Plus",
	            "26204", "Vodafone",
	            "26205", "E-Plus",
	            "26206", "T-Mobile",
	            "26207", "O2",
	            "26208", "O2",
	            "26209", "Vodafone",
	            "26211", "O2",
	            "26215", "Airdata",
	            "26216", "Telogic ex. Vistream",
	            "26220", "OnePhone",
	            "26242", "27C3",
	            "26243", "LYCA",
	            "26277", "E-Plus",
	            "26292", "Nash Technologies",
	            "262901", "Debitel",
	            "62001", "MTN",
	            "62002", "Vodafone",
	            "62003", "tiGO",
	            "62004", "Expresso",
	            "62006", "Airtel",
	            "62007", "Globacom (Zain)",
	            "26601", "GibTel",
	            "26606", "CTS Mobile",
	            "26609", "Shine",
	            "20201", "Cosmote",
	            "20205", "Vodafone",
	            "20209", "Wind",
	            "20210", "Wind",
	            "35230", "Digicel",
	            "352110", "Cable & Wireless",
	            "34001", "Orange",
	            "34002", "Outremer",
	            "34003", "Telcell",
	            "34008", "Dauphin",
	            "34020", "Digicel",
	            "31032", "IT&E Wireless",
	            "310140", "mPulse",
	            "310370", "docomo",
	            "311250", "i CAN_GSM",
	            "310470", "docomo",
	            "70401", "Claro",
	            "70402", "Tigo",
	            "70403", "movistar",
	            "23455", "Sure Mobile",
	            "23450", "Wave Telecom",
	            "23403", "Airtel Vodafone",
	            "61101", "Orange S.A.",
	            "61102", "Sotelgui",
	            "61103", "Telecel Guinee",
	            "61104", "MTN",
	            "61105", "Cellcom",
	            "63202", "Areeba",
	            "63203", "Orange",
	            "73801", "Digicel",
	            "73802", "GT&T Cellink Plus",
	            "37201", "Voila",
	            "37202", "Digicel",
	            "37203", "Natcom",
	            "70801", "Claro",
	            "70802", "Tigo",
	            "70830", "Hondutel",
	            "70840", "DIGICEL",
	            "45400", "1O1O / One2Free / New World Mobility",
	            "45403", "3 (3G)",
	            "45404", "3 (2G)",
	            "45405", "3 (CDMA)",
	            "45406", "SmarTone",
	            "45408", "Truphone",
	            "45410", "New World Mobility",
	            "45412", "CMCC HK",
	            "45413", "CMCC HK",
	            "45416", "PCCW Mobile (2G)",
	            "45419", "PCCW Mobile (3G)",
	            "45429", "PCCW Mobile(CDMA)",
	            "21601", "Telenor",
	            "21630", "T-Mobile",
	            "21670", "Vodafone",
	            "21671", "UPC Hungary",
	            "27401", "Síminn",
	            "27402", "Vodafone",
	            "27403", "Vodafone",
	            "27404", "Viking",
	            "27407", "IceCell",
	            "27408", "On-waves",
	            "27411", "Nova",
	            "27412", "Tal",
	            "40401", "Vodafone IN",
	            "40402", "AirTel",
	            "40403", "AirTel",
	            "40404", "IDEA",
	            "40405", "Vodafone IN",
	            "40407", "IDEA",
	            "40409", "Reliance",
	            "40410", "AirTel",
	            "40411", "Vodafone IN",
	            "40412", "IDEA",
	            "40413", "Vodafone IN",
	            "40414", "IDEA",
	            "40415", "Vodafone IN",
	            "40416", "Airtel",
	            "40417", "AIRCEL",
	            "40419", "IDEA",
	            "40420", "Vodafone IN",
	            "40421", "Loop Mobile",
	            "40422", "IDEA",
	            "40424", "IDEA",
	            "40425", "AIRCEL",
	            "40427", "Vodafone IN",
	            "40428", "AIRCEL",
	            "40429", "AIRCEL",
	            "40430", "Vodafone IN",
	            "40431", "AirTel",
	            "40434", "CellOne",
	            "40436", "Reliance",
	            "40437", "Aircel",
	            "40438", "CellOne",
	            "40440", "AirTel",
	            "40441", "Aircel",
	            "40442", "Aircel",
	            "40444", "IDEA",
	            "40445", "Airtel",
	            "40446", "Vodafone IN",
	            "40448", "Dishnet Wireless",
	            "40449", "Airtel",
	            "40451", "CellOne",
	            "40452", "Reliance",
	            "40453", "CellOne",
	            "40454", "CellOne",
	            "40455", "CellOne",
	            "40456", "IDEA",
	            "40457", "CellOne",
	            "40458", "CellOne",
	            "40459", "CellOne",
	            "40460", "Vodafone IN",
	            "40462", "CellOne",
	            "40464", "CellOne",
	            "40466", "CellOne",
	            "40467", "Reliance GSM",
	            "40468", "DOLPHIN",
	            "40469", "DOLPHIN",
	            "40470", "AirTel",
	            "40471", "CellOne",
	            "40472", "CellOne",
	            "40473", "CellOne",
	            "40474", "CellOne",
	            "40476", "CellOne",
	            "40477", "CellOne",
	            "40478", "Idea Cellular Ltd",
	            "40480", "CellOne",
	            "40481", "CellOne",
	            "40482", "Idea",
	            "40483", "Reliance Smart GSM",
	            "40484", "Vodafone IN",
	            "40485", "Reliance",
	            "40486", "Vodafone IN",
	            "40487", "Idea",
	            "40488", "Vodafone IN",
	            "40489", "Idea",
	            "40490", "AirTel",
	            "40491", "AIRCEL",
	            "40492", "AirTel",
	            "40493", "AirTel",
	            "40494", "AirTel",
	            "40495", "AirTel",
	            "40496", "AirTel",
	            "40497", "AirTel",
	            "40498", "AirTel",
	            "40501", "Reliance",
	            "40503", "Reliance",
	            "40504", "Reliance",
	            "40505", "Reliance",
	            "40506", "Reliance",
	            "40509", "Reliance",
	            "40510", "Reliance",
	            "40513", "Reliance",
	            "40525", "TATA Teleservice",
	            "40526", "TATA Teleservice",
	            "40527", "TATA Teleservice",
	            "40529", "TATA Teleservice",
	            "40530", "TATA Teleservice",
	            "40531", "TATA Teleservice",
	            "40532", "TATA Teleservice",
	            "40533", "TATA Teleservice",
	            "40534", "TATA Teleservice",
	            "40535", "TATA Teleservice",
	            "40536", "TATA Teleservice",
	            "40537", "TATA Teleservice",
	            "40538", "TATA Teleservice",
	            "40539", "TATA Teleservice",
	            "40541", "TATA Teleservice",
	            "40542", "TATA Teleservice",
	            "40543", "TATA Teleservice",
	            "40544", "TATA Teleservice",
	            "40545", "TATA Teleservice",
	            "40546", "TATA Teleservice",
	            "40547", "TATA Teleservice",
	            "40551", "AirTel",
	            "40552", "AirTel",
	            "40554", "AirTel",
	            "40555", "Airtel",
	            "40556", "AirTel",
	            "40566", "Vodafone IN",
	            "40570", "IDEA",
	            "405750", "Vodafone IN",
	            "405751", "Vodafone IN",
	            "405752", "Vodafone IN",
	            "405753", "Vodafone IN",
	            "405754", "Vodafone IN",
	            "405755", "Vodafone IN",
	            "405756", "Vodafone IN",
	            "405799", "IDEA",
	            "405800", "AIRCEL",
	            "405801", "AIRCEL",
	            "405802", "AIRCEL",
	            "405803", "AIRCEL",
	            "405804", "AIRCEL",
	            "405805", "AIRCEL",
	            "405806", "AIRCEL",
	            "405807", "AIRCEL",
	            "405808", "AIRCEL",
	            "405809", "AIRCEL",
	            "405810", "AIRCEL",
	            "405811", "AIRCEL",
	            "405812", "AIRCEL",
	            "405819", "Uninor",
	            "405818", "Uninor",
	            "405820", "Uninor",
	            "405821", "Uninor",
	            "405822", "Uninor",
	            "405824", "Videocon Datacom",
	            "405827", "Videocon Datacom",
	            "405834", "Videocon Datacom",
	            "405844", "Uninor",
	            "405845", "IDEA",
	            "405846", "IDEA",
	            "405848", "IDEA",
	            "405850", "IDEA",
	            "405855", "Loop Mobile",
	            "405864", "Loop Mobile",
	            "405865", "Loop Mobile",
	            "405875", "Uninor",
	            "405880", "Uninor",
	            "405881", "S Tel",
	            "405912", "Etisalat DB(cheers)",
	            "405913", "Etisalat DB(cheers)",
	            "405914", "Etisalat DB(cheers)",
	            "405917", "Etisalat DB(cheers)",
	            "405927", "Uninor",
	            "405929", "Uninor",
	            "51000", "PSN",
	            "51001", "INDOSAT",
	            "51003", "StarOne",
	            "51007", "TelkomFlexi",
	            "51008", "AXIS",
	            "51009", "SMART",
	            "51010", "Telkomsel",
	            "51011", "XL",
	            "51020", "TELKOMMobile",
	            "51021", "IM3",
	            "51027", "Ceria",
	            "51028", "Fren/Hepi",
	            "51089", "3",
	            "51099", "Esia",
	            "43211", "IR-MCI",
	            "43214", "TKC",
	            "43219", "MTCE",
	            "43220", "Rightel",
	            "43232", "Taliya",
	            "43235", "Irancell",
	            "43270", "TCI",
	            "43293", "Iraphone",
	            "41805", "Asia Cell",
	            "41808", "SanaTel",
	            "41820", "Zain",
	            "41830", "Zain",
	            "41840", "Korek",
	            "41845", "Mobitel",
	            "41862", "Itisaluna",
	            "41892", "Omnnea",
	            "27201", "Vodafone",
	            "27202", "O2",
	            "27203", "Meteor",
	            "27205", "3",
	            "27207", "eMobile",
	            "27211", "Tesco Mobile",
	            "27213", "Lycamobile",
	            "23458", "Pronto GSM",
	            "23409", "Sure Mobile",
	            "23400", "Cloud 9 Mobile",
	            "42501", "Orange",
	            "42502", "Cellcom",
	            "42503", "Pelephone",
	            "42507", "Hot Mobile",
	            "42508", "Golan Telecom",
	            "42514", "Youphone",
	            "42515", "Home Cellular",
	            "42516", "Rami Levy",
	            "22201", "TIM",
	            "22202", "Elsacom",
	            "22204", "Intermatica",
	            "22205", "Telespazio",
	            "22207", "Noverca",
	            "22210", "Vodafone",
	            "22230", "RFI",
	            "22235", "Lyca Italy",
	            "22277", "IPSE 2000",
	            "22288", "Wind",
	            "22298", "Blu",
	            "22299", "3 Italia",
	            "61202", "Moov",
	            "61203", "Orange",
	            "61204", "KoZ",
	            "61205", "MTN",
	            "61206", "ORICEL",
	            "33820", "LIME",
	            "33850", "Digicel",
	            "338180", "LIME",
	            "44000", "eMobile",
	            "44001", "NTT docomo",
	            "44002", "NTT docomo",
	            "44003", "NTT docomo",
	            "44004", "SoftBank",
	            "44006", "SoftBank",
	            "44007", "KDDI",
	            "44008", "KDDI",
	            "44009", "NTT docomo",
	            "44010", "NTT docomo",
	            "44011", "NTT docomo",
	            "44012", "NTT docomo",
	            "44013", "NTT docomo",
	            "44014", "NTT docomo",
	            "44015", "NTT docomo",
	            "44016", "NTT docomo",
	            "44017", "NTT docomo",
	            "44018", "NTT docomo",
	            "44019", "NTT docomo",
	            "44020", "SoftBank",
	            "44021", "NTT docomo",
	            "44022", "NTT docomo",
	            "44023", "NTT docomo",
	            "44024", "NTT docomo",
	            "44025", "NTT docomo",
	            "44026", "NTT docomo",
	            "44027", "NTT docomo",
	            "44028", "NTT docomo",
	            "44029", "NTT docomo",
	            "44030", "NTT docomo",
	            "44031", "NTT docomo",
	            "44032", "NTT docomo",
	            "44033", "NTT docomo",
	            "44034", "NTT docomo",
	            "44035", "NTT DoCoMo",
	            "44036", "NTT DoCoMo",
	            "44037", "NTT DoCoMo",
	            "44038", "NTT DoCoMo",
	            "44039", "NTT DoCoMo",
	            "44040", "SoftBank",
	            "44041", "SoftBank",
	            "44042", "SoftBank",
	            "44043", "SoftBank",
	            "44044", "SoftBank",
	            "44045", "SoftBank",
	            "44046", "SoftBank",
	            "44047", "SoftBank",
	            "44048", "SoftBank",
	            "44049", "NTT DoCoMo",
	            "44050", "KDDI",
	            "44051", "KDDI",
	            "44052", "KDDI",
	            "44053", "KDDI",
	            "44054", "KDDI",
	            "44055", "KDDI",
	            "44056", "KDDI",
	            "44058", "NTT DoCoMo",
	            "44060", "NTT DoCoMo",
	            "44061", "NTT DoCoMo",
	            "44062", "NTT DoCoMo",
	            "44063", "NTT DoCoMo",
	            "44064", "NTT DoCoMo",
	            "44065", "NTT DoCoMo",
	            "44066", "NTT DoCoMo",
	            "44067", "NTT DoCoMo",
	            "44068", "NTT DoCoMo",
	            "44069", "NTT DoCoMo",
	            "44070", "au",
	            "44071", "KDDI",
	            "44072", "KDDI",
	            "44073", "KDDI",
	            "44074", "KDDI",
	            "44075", "KDDI",
	            "44076", "KDDI",
	            "44077", "KDDI",
	            "44079", "KDDI",
	            "44080", "TU-KA",
	            "44081", "TU-KA",
	            "44082", "TU-KA",
	            "44083", "TU-KA",
	            "44084", "TU-KA",
	            "44085", "TU-KA",
	            "44086", "TU-KA",
	            "44087", "NTT DoCoMo",
	            "44088", "KDDI",
	            "44089", "KDDI",
	            "44090", "SoftBank",
	            "44092", "SoftBank",
	            "44093", "SoftBank",
	            "44094", "SoftBank",
	            "44095", "SoftBank",
	            "44096", "SoftBank",
	            "44097", "SoftBank",
	            "44098", "SoftBank",
	            "44099", "NTT DoCoMo",
	            "23450", "JT",
	            "23455", "Sure Mobile",
	            "23403", "Airtel Vodafone",
	            "41601", "zain JO",
	            "41674", "XPress Telecom",
	            "41603", "Umniah",
	            "41677", "Orange",
	            "40101", "Beeline",
	            "40102", "Kcell",
	            "40107", "Dalacom",
	            "40108", "Kazakhtelecom",
	            "40110", "Dontelecom",
	            "40177", "Tele2.kz",
	            "63972", "Safaricom",
	            "63973", "Airtel",
	            "63977", "Orange Kenya",
	            "63975", "yu",
	            "54509", "Kiribati Frigate",
	            "46705", "Koryolink",
	            "467193", "SunNet",
	            "45002", "KT",
	            "45003", "Power 017",
	            "45004", "KT",
	            "45005", "SKTelecom",
	            "45006", "LG U+",
	            "45008", "olleh",
	            "45011", "SKTelecom",
	            "21201", "Vala",
	            "29341", "IPKO",
	            "29341", "D3 Mobile",
	            "21201", "Z Mobile",
	            "41902", "zain KW",
	            "41903", "Wataniya",
	            "41904", "Viva",
	            "43701", "Beeline",
	            "43703", "Fonex",
	            "43705", "MegaCom",
	            "43709", "O!",
	            "45701", "LTC",
	            "45702", "ETL",
	            "45703", "Unitel",
	            "45708", "Beeline",
	            "24701", "LMT",
	            "24702", "Tele2",
	            "24703", "TRIATEL",
	            "24705", "Bite",
	            "24707", "MTS",
	            "24708", "IZZI",
	            "24709", "Camel Mobile",
	            "41501", "Alfa",
	            "41503", "mtc touch",
	            "41505", "Ogero Mobile",
	            "65101", "Vodacom",
	            "61801", "Lonestar Cell",
	            "61802", "Libercell",
	            "61804", "Comium",
	            "61807", "Cellcom",
	            "61820", "LIBTELCO",
	            "60600", "Libyana",
	            "60601", "Madar",
	            "60602", "Al-Jeel Phone",
	            "60603", "Libya Phone",
	            "60606", "Hatef Libya",
	            "29501", "Swisscom",
	            "29502", "Orange",
	            "29505", "FL1",
	            "29577", "Alpmobil",
	            "29504", "Cubic Telecom",
	            "24601", "Omnitel",
	            "24602", "BITE",
	            "24603", "Tele 2",
	            "24605", "LitRail",
	            "24606", "Mediafon",
	            "27001", "LuxGSM",
	            "27077", "Tango",
	            "27099", "Orange",
	            "45500", "SmarTone",
	            "45501", "CTM",
	            "45502", "China Telecom",
	            "45503", "3",
	            "45504", "CTM",
	            "45505", "3",
	            "29401", "T-Mobile MK",
	            "29402", "ONE",
	            "29403", "Vip MK",
	            "64601", "Airtel",
	            "64602", "Orange",
	            "64603", "Sacel",
	            "64604", "Telma",
	            "65001", "TNM",
	            "65010", "Airtel",
	            "50201", "ATUR 450",
	            "50211", "TM Homeline",
	            "50212", "Maxis",
	            "50213", "Celcom",
	            "50216", "DiGi",
	            "50217", "Hotlink",
	            "50218", "U Mobile",
	            "50218", "TM Homeline",
	            "50219", "Celcom",
	            "502150", "Tune Talk",
	            "502152", "Yes",
	            "47201", "Dhiraagu",
	            "47202", "Wataniya",
	            "61001", "Malitel",
	            "61002", "Orange",
	            "27801", "Vodafone",
	            "27821", "GO",
	            "27877", "Melita",
	            "34001", "Orange",
	            "34002", "Outremer",
	            "34020", "Digicel",
	            "60901", "Mattel",
	            "60902", "Chinguitel",
	            "60910", "Mauritel",
	            "61701", "Orange",
	            "61702", "MTML",
	            "61710", "Emtel",
	            "33410", "Nextal",
	            "33420", "Telcel",
	            "33430", "movistar",
	            "33440", "Iusacell / Unefon",
	            "33450", "Iusacell",
	            "33490", "Nextel",
	            "25901", "Orange",
	            "25902", "Moldcell",
	            "25903", "IDC",
	            "25903", "Unité",
	            "25904", "Eventis",
	            "25905", "Unité",
	            "25999", "Unité",
	            "21201", "Office des Telephones",
	            "42888", "Unitel",
	            "42891", "Skytel",
	            "42898", "G.Mobile",
	            "42899", "MobiCom",
	            "29701", "Telenor",
	            "29702", "T-Mobile",
	            "29703", "m:tel CG",
	            "29704", "T-Mobile",
	            "354860", "Cable & Wireless",
	            "60400", "Méditel",
	            "60401", "IAM",
	            "60402", "Wana Corporate",
	            "60405", "INWI",
	            "64301", "mCel",
	            "64303", "Movitel",
	            "64304", "Vodacom",
	            "41401", "MPT",
	            "64901", "MTC",
	            "64902", "switch",
	            "64903", "Leo",
	            "53602", "Digicel",
	            "42901", "Namaste / NT Mobile",
	            "42902", "Ncell",
	            "42903", "Sky/C-Phone",
	            "42904", "SmartCell",
	            "20402", "Tele2",
	            "20403", "Voiceworks",
	            "20406", "Vectone MobileDelight Mobile",
	            "20408", "KPN",
	            "20409", "Lycamobile",
	            "20410", "KPN",
	            "20412", "Telfort",
	            "20416", "T-Mobile (BEN)",
	            "20417", "Intercity Zakelijk",
	            "20420", "T-Mobile",
	            "36251", "Telcell",
	            "36269", "Digicel",
	            "36291", "UTS",
	            "36295", "MIO",
	            "36294", "Bayòs",
	            "54601", "Mobilis",
	            "53000", "Telecom",
	            "53001", "Vodafone",
	            "53002", "Telecom",
	            "53003", "Woosh",
	            "53004", "TelstraClear",
	            "53005", "XT Mobile Network",
	            "53024", "2degrees",
	            "53006", "Skinny",
	            "71021", "Claro",
	            "710300", "movistar",
	            "71073", "SERCOM",
	            "61401", "SahelCom",
	            "61402", "Airtel",
	            "61403", "Moov",
	            "61404", "Orange",
	            "62120", "Airtel",
	            "62125", "Visafone",
	            "62130", "MTN",
	            "62140", "M-Tel",
	            "62150", "Glo",
	            "62160", "Etisalat",
	            "55501", "Telecom Niue",
	            "50510", "Norfolk Telecom",
	            "24201", "Telenor",
	            "24202", "NetCom",
	            "24203", "Teletopia",
	            "24204", "Tele2",
	            "24205", "Network Norway",
	            "24206", "Ice",
	            "24207", "Ventelo",
	            "24208", "TDC",
	            "24209", "Com4",
	            "24211", "SystemNet",
	            "24223", "Lyca",
	            "42202", "Oman Mobile",
	            "42203", "Nawras",
	            "41001", "Mobilink",
	            "41003", "Ufone",
	            "41004", "Zong",
	            "41006", "Telenor",
	            "41007", "Warid",
	            "55201", "PNCC",
	            "55280", "Palau Mobile",
	            "42505", "Jawwal",
	            "42506", "Wataniya",
	            "71401", "Cable & Wireless",
	            "71402", "movistar",
	            "71404", "Digicel",
	            "71403", "Claro",
	            "53701", "BeMobile",
	            "53703", "Digicel",
	            "74401", "VOX",
	            "74402", "Claro/Hutchison",
	            "74404", "Tigo",
	            "74405", "Personal",
	            "74406", "Copaco",
	            "71606", "Movistar",
	            "71607", "NEXTEL",
	            "71610", "Claro(TIM)",
	            "71615", "Viettel Mobile",
	            "71617", "NEXTEL",
	            "51501", "Islacom",
	            "51502", "Globe",
	            "51503", "Smart",
	            "51505", "Sun",
	            "51518", "Cure",
	            "26001", "Plus",
	            "26002", "T-Mobile",
	            "26003", "Orange",
	            "26006", "Play",
	            "26007", "Netia",
	            "26009", "Lycamobile",
	            "26010", "Sferia",
	            "26011", "Nordisk Polska",
	            "26012", "Cyfrowy Polsat",
	            "26013", "Sferia",
	            "26014", "Sferia",
	            "26015", "CenterNet",
	            "26016", "Mobyland",
	            "26017", "Aero2",
	            "26801", "Vodafone",
	            "26803", "Optimus",
	            "26806", "TMN",
	            "26821", "Zapp",
	            "330110", "Claro",
	            "330120", "Open Mobile",
	            "42701", "Qtel",
	            "42702", "Vodafone",
	            "42705", "Ministry of Interior",
	            "64700", "Orange",
	            "64702", "Outremer",
	            "64710", "SFR Reunion",
	            "22601", "Vodafone",
	            "22602", "Romtelecom",
	            "22603", "Cosmote",
	            "22604", "Cosmote/Zapp",
	            "22605", "Digi.Mobil",
	            "22606", "Cosmote/Zapp",
	            "22610", "Orange",
	            "25001", "MTS",
	            "25002", "MegaFon",
	            "25003", "NCC",
	            "25004", "Sibchallenge",
	            "25005", "ETK",
	            "25006", "Skylink",
	            "25007", "SMARTS",
	            "25009", "Skylink",
	            "25010", "DTC",
	            "25011", "Yota",
	            "25012", "Baykalwestcom",
	            "25012", "Akos",
	            "25013", "KUGSM",
	            "25015", "SMARTS",
	            "25016", "NTC",
	            "25017", "Utel",
	            "25019", "INDIGO",
	            "25020", "Tele2",
	            "25023", "Mobicom - Novosibirsk",
	            "25028", "Beeline",
	            "25035", "MOTIV",
	            "25038", "Tambov GSM",
	            "25039", "Utel",
	            "25050", "MTS",
	            "25091", "Sonic Duo",
	            "25099", "Beeline",
	            "63510", "MTN",
	            "63512", "Rwandatel",
	            "63513", "Tigo",
	            "63514", "Airtel",
	            "35650", "Digicel",
	            "35670", "Chippie",
	            "356110", "LIME",
	            "35850", "Digicel[citation needed]",
	            "30801", "Ameris",
	            "36070", "Digicel",
	            "36100", "Cingular Wireless",
	            "360110", "Lime",
	            "54901", "Digicel",
	            "54927", "Bluesky",
	            "29201", "PRIMA",
	            "62601", "CSTmovel",
	            "42001", "Al Jawal (STC )",
	            "42003", "Mobily",
	            "42004", "Zain SA",
	            "60801", "Orange",
	            "60802", "Tigo",
	            "60803", "Expresso",
	            "22001", "Telenor",
	            "22002", "Telenor",
	            "22003", "mt:s",
	            "22005", "VIP",
	            "63301", "Cable & Wireless",
	            "63302", "Mediatech International",
	            "63310", "Airtel",
	            "61901", "Airtel",
	            "61902", "Tigo",
	            "61903", "Africell",
	            "61904", "Comium",
	            "61905", "Africell",
	            "61925", "Mobitel",
	            "52501", "SingTel",
	            "52502", "SingTel-G18",
	            "52503", "M1",
	            "52505", "StarHub",
	            "52506", "StarHub",
	            "52507", "SingTel",
	            "52512", "Grid",
	            "23101", "Orange",
	            "23102", "T-Mobile",
	            "23104", "T-Mobile",
	            "23106", "O2",
	            "23199", "ŽSR",
	            "29340", "Si.mobil",
	            "29341", "Mobitel",
	            "29364", "T-2",
	            "29370", "Tušmobil",
	            "54001", "BREEZE",
	            "54002", "BeMobile",
	            "63704", "SomaCyber",
	            "63701", "Telesom",
	            "63704", "Somafone",
	            "63710", "Nationlink",
	            "63725", "Hormuud",
	            "63730", "Golis",
	            "63757", "Unittel",
	            "63760", "Nationlink Telecom",
	            "63771", "Somtel",
	            "63782", "Telcom",
	            "65501", "Vodacom",
	            "65502", "Telkom Mobile / 8.ta / Telekom SA",
	            "65506", "Sentech",
	            "65507", "Cell C",
	            "65510", "MTN",
	            "65513", "Neotel",
	            "65519", "iBurst",
	            "65902", "MTN",
	            "65903", "Gemtel",
	            "65904", "Vivacell",
	            "65906", "Zain",
	            "65907", "Sudani",
	            "21401", "Vodafone",
	            "21403", "Orange",
	            "21404", "Yoigo",
	            "21405", "TME",
	            "21406", "Vodafone",
	            "21407", "movistar",
	            "21408", "Euskaltel",
	            "21409", "Orange",
	            "21415", "BT",
	            "21416", "TeleCable",
	            "21417", "Móbil R",
	            "21418", "ONO",
	            "21419", "Simyo",
	            "21420", "Fonyou",
	            "21421", "Jazztel",
	            "21422", "DigiMobil",
	            "21423", "Barablu",
	            "21424", "Eroski",
	            "21425", "LycaMobile",
	            "41301", "Mobitel",
	            "41302", "Dialog",
	            "41303", "Etisalat",
	            "41305", "Airtel",
	            "41308", "Hutch",
	            "63401", "Zain SD",
	            "63402", "MTN",
	            "63407", "Sudani One",
	            "63409", "Privet Network",
	            "63400", "Canar",
	            "74602", "Telesur",
	            "74603", "Digicel",
	            "74604", "Uniqa",
	            "65310", "Swazi MTN",
	            "24001", "Telia",
	            "24002", "3",
	            "24003", "Ice.net",
	            "24004", "SWEDEN",
	            "24005", "Sweden 3G",
	            "24006", "Telenor",
	            "24007", "Tele2",
	            "24008", "Telenor",
	            "24009", "djuice",
	            "24010", "Spring Mobil",
	            "24012", "Lycamobile Sweden",
	            "24017", "Gotanet",
	            "24021", "MobiSir",
	            "24024", "Sweden 2G",
	            "22801", "Swisscom",
	            "22802", "Sunrise",
	            "22803", "Orange",
	            "22806", "SBB-CFF-FFS",
	            "22807", "IN&Phone",
	            "22808", "Tele4u",
	            "22852", "Barablu",
	            "41701", "Syriatel",
	            "41702", "MTN",
	            "46601", "FarEasTone",
	            "46605", "APTG",
	            "46606", "Tuntex",
	            "46611", "Chunghwa LDM",
	            "46688", "KG Telecom",
	            "46689", "VIBO",
	            "46692", "Chungwa",
	            "46693", "MobiTai",
	            "46697", "Taiwan Mobile",
	            "46699", "TransAsia",
	            "43601", "Tcell",
	            "43602", "Tcell",
	            "43603", "Megafon",
	            "43604", "Babilon-M",
	            "43605", "Tacom",
	            "43612", "Tcell",
	            "64002", "tiGO",
	            "64003", "Zantel",
	            "64004", "Vodacom",
	            "64005", "Airtel",
	            "64006", "Sasatel",
	            "64007", "TTCL Mobile",
	            "64008", "Benson Online (BOL)",
	            "64009", "Hits",
	            "64011", "SmileCom",
	            "52000", "my CAT 3G+",
	            "52001", "AIS",
	            "52002", "CAT CDMA",
	            "52003", "AIS 3G",
	            "52004", "True Move H 4G",
	            "52005", "dtac 3G",
	            "52015", "TOT 3G",
	            "52018", "dtac",
	            "52023", "AIS GSM 1800",
	            "52099", "True Move",
	            "61501", "Togo Cell",
	            "61503", "Moov",
	            "53901", "U-Call",
	            "53988", "Digicel",
	            "37412", "bmobile",
	            "374130", "Digicel",
	            "60501", "Orange",
	            "60502", "Tunicell",
	            "60503", "Tunisiana",
	            "28601", "Turkcell",
	            "28602", "Vodafone",
	            "28603", "Avea",
	            "43801", "MTS",
	            "43802", "TM-Cell",
	            "33850", "Digicel",
	            "376350", "C&W",
	            "376352", "Islandcom",
	            "55301", "TTC",
	            "64101", "Airtel",
	            "64110", "MTN",
	            "64111", "UTL",
	            "64114", "Orange",
	            "64122", "Warid Telecom",
	            "25501", "MTS",
	            "25502", "Beeline",
	            "25503", "Kyivstar",
	            "25504", "IT",
	            "25505", "Golden Telecom",
	            "25506", "life:)",
	            "25507", "3Mob",
	            "25521", "PEOPLEnet",
	            "25523", "CDMA Ukraine",
	            "25525", "NEWTONE",
	            "42402", "Etisalat",
	            "42403", "du",
	            "23400", "BT",
	            "23401", "Vectone Mobile",
	            "23402", "O2 (UK)",
	            "23403", "Airtel-Vodafone",
	            "23404", "FMS Solutions Ltd",
	            "23410", "O2 (UK)",
	            "23411", "O2 (UK)",
	            "23412", "Railtrack",
	            "23413", "Railtrack",
	            "23414", "Hay Systems Ltd",
	            "23415", "Vodafone UK",
	            "23416", "Talk Talk (Opal Tel Ltd)",
	            "23418", "Cloud9",
	            "23419", "Private Mobile Networks PMN",
	            "23420", "3",
	            "23422", "RoutoMessaging",
	            "23424", "Greenfone",
	            "23425", "Truphone",
	            "23430", "T-Mobile (UK)",
	            "23431", "Virgin Mobile UK",
	            "23432", "Virgin Mobile UK",
	            "23433", "Orange (UK)",
	            "23434", "Orange (UK)",
	            "23450", "JT",
	            "23451", "UK Broadband Limited",
	            "23476", "BT",
	            "23478", "Airwave",
	            "23577", "BT",
	            "31004", "Verizon",
	            "31005", "Verizon",
	            "31012", "Verizon",
	            "31013", "MobileTel",
	            "31016", "Cricket Communications",
	            "31026", "T-Mobile",
	            "31030", "Centennial",
	            "31034", "Airpeak",
	            "31040", "Concho",
	            "31046", "SIMMETRY",
	            "31080", "Corr",
	            "31090", "Cricket Communications",
	            "31100", "Plateau Wireless",
	            "310110", "PTI Pacifica",
	            "310120", "Sprint",
	            "310150", "AT&T",
	            "310180", "West Central",
	            "310190", "Dutch Harbor",
	            "310300", "Big Sky Mobile",
	            "310320", "Cellular One",
	            "310330", "T-Mobile",
	            "310340", "Westlink",
	            "310380", "AT&T",
	            "310390", "Cellular One of East Texas",
	            "310400", "i CAN_GSM",
	            "310410", "AT&T",
	            "310420", "Cincinnati Bell",
	            "310440", "Cellular One",
	            "310450", "Viaero",
	            "310460", "Simmetry",
	            "310470", "nTelos",
	            "310490", "T-Mobile",
	            "310500", "Alltel",
	            "310510", "Airtel",
	            "310520", "VeriSign",
	            "310540", "Oklahoma Western",
	            "310560", "AT&T",
	            "310570", "Cellular One",
	            "310580", "T-Mobile",
	            "310590", "Alltel",
	            "310610", "Epic Touch",
	            "310620", "Coleman County Telecom",
	            "310630", "AmeriLink PCS",
	            "310640", "Airadigm",
	            "310650", "Jasper",
	            "310660", "T-Mobile",
	            "310670", "Northstar",
	            "310680", "AT&T",
	            "310690", "Immix",
	            "310730", "SeaMobile",
	            "310740", "Convey",
	            "310760", "Panhandle",
	            "310770", "i wireless",
	            "310790", "PinPoint",
	            "310830", "Caprock",
	            "310840", "telna Mobile",
	            "310850", "Aeris",
	            "310870", "PACE",
	            "310880", "Advantage",
	            "310890", "Unicel",
	            "310900", "Mid-Rivers Wireless",
	            "310910", "First Cellular",
	            "310950", "XIT Wireless",
	            "310960", "Plateau Wireless",
	            "310970", "Globalstar",
	            "310980", "AT&T",
	            "310990", "AT&T",
	            "31110", "Chariton Valley",
	            "31160", "Farmers Cellular",
	            "31170", "Easterbrooke",
	            "31180", "Pine Cellular",
	            "31190", "Long Lines Wireless",
	            "311140", "Sprocket",
	            "311170", "PetroCom",
	            "311230", "does not work",
	            "311330", "Bug Tussel Wireless",
	            "311480", "Verizon",
	            "311481", "Verizon",
	            "311482", "Verizon",
	            "311483", "Verizon",
	            "311484", "Verizon",
	            "311485", "Verizon",
	            "311486", "Verizon",
	            "311487", "Verizon",
	            "311488", "Verizon",
	            "311489", "Verizon",
	            "311660", "metroPCS",
	            "311970", "Big River Broadband",
	            "31400", "700 MHz Public Safety Broadband",
	            "313101", "700 MHz Public Safety Broadband",
	            "313102", "700 MHz Public Safety Broadband",
	            "313103", "700 MHz Public Safety Broadband",
	            "313104", "700 MHz Public Safety Broadband",
	            "313105", "700 MHz Public Safety Broadband",
	            "313106", "700 MHz Public Safety Broadband",
	            "313107", "700 MHz Public Safety Broadband",
	            "313108", "700 MHz Public Safety Broadband",
	            "313109", "700 MHz Public Safety Broadband",
	            "313110", "700 MHz Public Safety Broadband",
	            "313111", "700 MHz Public Safety Broadband",
	            "313112", "700 MHz Public Safety Broadband",
	            "313113", "700 MHz Public Safety Broadband",
	            "313114", "700 MHz Public Safety Broadband",
	            "313115", "700 MHz Public Safety Broadband",
	            "313116", "700 MHz Public Safety Broadband",
	            "313117", "700 MHz Public Safety Broadband",
	            "313118", "700 MHz Public Safety Broadband",
	            "313119", "700 MHz Public Safety Broadband",
	            "313120", "700 MHz Public Safety Broadband",
	            "313121", "700 MHz Public Safety Broadband",
	            "313122", "700 MHz Public Safety Broadband",
	            "313123", "700 MHz Public Safety Broadband",
	            "313124", "700 MHz Public Safety Broadband",
	            "313125", "700 MHz Public Safety Broadband",
	            "313126", "700 MHz Public Safety Broadband",
	            "313127", "700 MHz Public Safety Broadband",
	            "313128", "700 MHz Public Safety Broadband",
	            "313129", "700 MHz Public Safety Broadband",
	            "313130", "700 MHz Public Safety Broadband",
	            "313131", "700 MHz Public Safety Broadband",
	            "313132", "700 MHz Public Safety Broadband",
	            "313133", "700 MHz Public Safety Broadband",
	            "313134", "700 MHz Public Safety Broadband",
	            "313135", "700 MHz Public Safety Broadband",
	            "313136", "700 MHz Public Safety Broadband",
	            "313137", "700 MHz Public Safety Broadband",
	            "313138", "700 MHz Public Safety Broadband",
	            "313139", "700 MHz Public Safety Broadband",
	            "313140", "700 MHz Public Safety Broadband",
	            "313141", "700 MHz Public Safety Broadband",
	            "313142", "700 MHz Public Safety Broadband",
	            "313143", "700 MHz Public Safety Broadband",
	            "313144", "700 MHz Public Safety Broadband",
	            "313145", "700 MHz Public Safety Broadband",
	            "313146", "700 MHz Public Safety Broadband",
	            "313147", "700 MHz Public Safety Broadband",
	            "313148", "700 MHz Public Safety Broadband",
	            "313149", "700 MHz Public Safety Broadband",
	            "313150", "700 MHz Public Safety Broadband",
	            "313151", "700 MHz Public Safety Broadband",
	            "313152", "700 MHz Public Safety Broadband",
	            "313153", "700 MHz Public Safety Broadband",
	            "313154", "700 MHz Public Safety Broadband",
	            "313155", "700 MHz Public Safety Broadband",
	            "313156", "700 MHz Public Safety Broadband",
	            "313157", "700 MHz Public Safety Broadband",
	            "313158", "700 MHz Public Safety Broadband",
	            "313159", "700 MHz Public Safety Broadband",
	            "313160", "700 MHz Public Safety Broadband",
	            "313161", "700 MHz Public Safety Broadband",
	            "313162", "700 MHz Public Safety Broadband",
	            "313163", "700 MHz Public Safety Broadband",
	            "313164", "700 MHz Public Safety Broadband",
	            "313165", "700 MHz Public Safety Broadband",
	            "313166", "700 MHz Public Safety Broadband",
	            "313167", "700 MHz Public Safety Broadband",
	            "313168", "700 MHz Public Safety Broadband",
	            "313169", "700 MHz Public Safety Broadband",
	            "313170", "700 MHz Public Safety Broadband",
	            "313171", "700 MHz Public Safety Broadband",
	            "313172", "700 MHz Public Safety Broadband",
	            "313173", "700 MHz Public Safety Broadband",
	            "313174", "700 MHz Public Safety Broadband",
	            "313175", "700 MHz Public Safety Broadband",
	            "313176", "700 MHz Public Safety Broadband",
	            "313177", "700 MHz Public Safety Broadband",
	            "313178", "700 MHz Public Safety Broadband",
	            "313179", "700 MHz Public Safety Broadband",
	            "313180", "700 MHz Public Safety Broadband",
	            "313181", "700 MHz Public Safety Broadband",
	            "313182", "700 MHz Public Safety Broadband",
	            "313183", "700 MHz Public Safety Broadband",
	            "313184", "700 MHz Public Safety Broadband",
	            "313185", "700 MHz Public Safety Broadband",
	            "313186", "700 MHz Public Safety Broadband",
	            "313187", "700 MHz Public Safety Broadband",
	            "313188", "700 MHz Public Safety Broadband",
	            "313189", "700 MHz Public Safety Broadband",
	            "313190", "700 MHz Public Safety Broadband",
	            "313191", "700 MHz Public Safety Broadband",
	            "313192", "700 MHz Public Safety Broadband",
	            "313193", "700 MHz Public Safety Broadband",
	            "313194", "700 MHz Public Safety Broadband",
	            "313195", "700 MHz Public Safety Broadband",
	            "313196", "700 MHz Public Safety Broadband",
	            "313197", "700 MHz Public Safety Broadband",
	            "313198", "700 MHz Public Safety Broadband",
	            "313199", "700 MHz Public Safety Broadband",
	            "31610", "Nextel",
	            "74801", "Antel",
	            "74807", "Movistar",
	            "43404", "Beeline",
	            "43405", "Ucell",
	            "43407", "MTS",
	            "54100", "AIL",
	            "54101", "SMILE",
	            "54105", "Digicel",
	            "73401", "Digitel",
	            "73402", "Digitel GSM",
	            "73403", "Digitel",
	            "73404", "movistar",
	            "73406", "Movilnet",
	            "45201", "MobiFone",
	            "45202", "Vinaphone",
	            "45203", "S-Fone",
	            "45204", "Viettel Mobile",
	            "45205", "Vietnamobile",
	            "45206", "EVNTelecom",
	            "45208", "3G EVNTelecom",
	            "45207", "G-Mobile",
	            "42101", "SabaFon",
	            "42102", "MTN",
	            "42103", "Yemen Mobile",
	            "42104", "HiTS-UNITEL",
	            "64501", "Airtel",
	            "64502", "MTN",
	            "64503", "ZAMTEL",
	            "64801", "Net*One",
	            "64803", "Telecel",
	            "64804", "Econet",
	            "90101", "ICO",
	            "90103", "Iridium",
	            "90110", "ACeS",
	            "90111", "Inmarsat",
	            "90112", "Telenor",
	            "90113", "GSM.AQ",
	            "90115", "OnAir",
	            "90117", "Navitas",
	            "90118", "Cellular @Sea",
	            "90124", "iNum",
	            "90126", "TIM",
	            "90127", "OnAir",
	            "90128", "Vodafone",
	            "90129", "Telenor",
	            "90131", "Orange",
	            "90132", "Sky High",
           };

                String carrier = SystemProperties.get("ro.product.model"); 
                if (carrier.equals("GT-P7510")) {
                        carrier = "WiFi";
                } else if (carrier.equals("GT-P7511")) {
                        carrier = "WiFi";
                } else {
        		TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);
			carrier = tm.getNetworkOperatorName();
			if ("".equals(carrier)) {
				carrier = "Unknown";

				String carrierId = tm.getNetworkOperator();
				for (int i = 0; i < operator.length; i += 2) {
					if (operator[i].equals(carrierId)) {
						carrier = operator[i+1];
					}
				}

			}
		}
		return carrier;
	}

	public static String getCarrierId(Context ctx) {
		TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);
		String carrierId = tm.getNetworkOperator();
		if ("".equals(carrierId)) {
			carrierId = "0";
		}
		return carrierId;
	}

	public static String getCountryCode(Context ctx) {

        String[] world = new String[] {
	            "ad", "Andorra, Principality of",
	            "ae", "United Arab Emirates",
	            "af", "Afghanistan, Islamic State of",
	            "ag", "Antigua and Barbuda",
	            "ai", "Anguilla",
	            "al", "Albania",
	            "am", "Armenia",
	            "an", "Netherlands Antilles",
	            "ao", "Angola",
	            "aq", "Antarctica",
	            "ar", "Argentina",
	            "as", "American Samoa",
	            "at", "Austria",
	            "au", "Australia",
	            "aw", "Aruba",
	            "az", "Azerbaidjan",
	            "ba", "Bosnia-Herzegovina",
	            "bb", "Barbados",
	            "bd", "Bangladesh",
	            "be", "Belgium",
	            "bf", "Burkina Faso",
	            "bg", "Bulgaria",
	            "bh", "Bahrain",
	            "bi", "Burundi",
	            "bj", "Benin",
	            "bm", "Bermuda",
	            "bn", "Brunei Darussalam",
	            "bo", "Bolivia",
	            "br", "Brazil",
	            "bs", "Bahamas",
	            "bt", "Bhutan",
	            "bv", "Bouvet Island",
	            "bw", "Botswana",
	            "by", "Belarus",
	            "bz", "Belize",
	            "ca", "Canada",
	            "cc", "Cocos (Keeling) Islands",
	            "cf", "Central African Republic",
	            "cd", "Congo, The Democratic Republic of the",
	            "cg", "Congo",
	            "ch", "Switzerland",
	            "ci", "Ivory Coast (Cote D'Ivoire)",
	            "ck", "Cook Islands",
	            "cl", "Chile",
	            "cm", "Cameroon",
	            "cn", "China",
	            "co", "Colombia",
	            "cr", "Costa Rica",
	            "cs", "Former Czechoslovakia",
	            "cu", "Cuba",
	            "cv", "Cape Verde",
	            "cx", "Christmas Island",
	            "cy", "Cyprus",
	            "cz", "Czech Republic",
	            "de", "Germany",
	            "dj", "Djibouti",
	            "dk", "Denmark",
	            "dm", "Dominica",
	            "do", "Dominican Republic",
	            "dz", "Algeria",
	            "ec", "Ecuador",
	            "ee", "Estonia",
	            "eg", "Egypt",
	            "eh", "Western Sahara",
	            "er", "Eritrea",
	            "es", "Spain",
	            "et", "Ethiopia",
	            "fi", "Finland",
	            "fj", "Fiji",
	            "fk", "Falkland Islands",
	            "fm", "Micronesia",
	            "fo", "Faroe Islands",
	            "fr", "France",
	            "fx", "France (European Territory)",
	            "ga", "Gabon",
	            "gb", "Great Britain",
	            "gd", "Grenada",
	            "ge", "Georgia",
	            "gf", "French Guyana",
	            "gh", "Ghana",
	            "gi", "Gibraltar",
	            "gl", "Greenland",
	            "gm", "Gambia",
	            "gn", "Guinea",
	            "gp", "Guadeloupe (French)",
	            "gq", "Equatorial Guinea",
	            "gr", "Greece",
       		    "gs", "S. Georgia & S. Sandwich Isls.",
       		    "gt", "Guatemala",
	       	    "gu", "Guam (USA)",
       		    "gw", "Guinea Bissau",
        	    "gy", "Guyana",
        	    "hk", "Hong Kong",
        	    "hm", "Heard and McDonald Islands",
        	    "hn", "Honduras",
        	    "hr", "Croatia",
        	    "ht", "Haiti",
        	    "hu", "Hungary",
        	    "id", "Indonesia",
        	    "ie", "Ireland",
        	    "il", "Israel",
        	    "in", "India",
        	    "io", "British Indian Ocean Territory",
        	    "iq", "Iraq",
        	    "ir", "Iran",
        	    "is", "Iceland",
        	    "it", "Italy",
        	    "jm", "Jamaica",
        	    "jo", "Jordan",
        	    "jp", "Japan",
        	    "ke", "Kenya",
        	    "kg", "Kyrgyz Republic (Kyrgyzstan)",
        	    "kh", "Cambodia, Kingdom of",
        	    "ki", "Kiribati",
        	    "km", "Comoros",
        	    "kn", "Saint Kitts & Nevis Anguilla",
        	    "kp", "North Korea",
        	    "kr", "South Korea",
        	    "kw", "Kuwait",
        	    "ky", "Cayman Islands",
        	    "kz", "Kazakhstan",
        	    "la", "Laos",
        	    "lb", "Lebanon",
        	    "lc", "Saint Lucia",
        	    "li", "Liechtenstein",
        	    "lk", "Sri Lanka",
	            "lr", "Liberia",
	            "ls", "Lesotho",
	            "lt", "Lithuania",
	            "lu", "Luxembourg",
	            "lv", "Latvia",
	            "ly", "Libya",
	            "ma", "Morocco",
	            "mc", "Monaco",
	            "md", "Moldavia",
	            "mg", "Madagascar",
	            "mh", "Marshall Islands",
	            "mk", "Macedonia",
	            "ml", "Mali",
	            "mm", "Myanmar",
	            "mn", "Mongolia",
	            "mo", "Macau",
	            "mp", "Northern Mariana Islands",
	            "mq", "Martinique (French)",
	            "mr", "Mauritania",
	            "ms", "Montserrat",
	            "mt", "Malta",
	            "mu", "Mauritius",
	            "mv", "Maldives",
	            "mw", "Malawi",
	            "mx", "Mexico",
	            "my", "Malaysia",
	            "mz", "Mozambique",
	            "na", "Namibia",
	            "nc", "New Caledonia (French)",
	            "ne", "Niger",
	            "nf", "Norfolk Island",
	            "ng", "Nigeria",
	            "ni", "Nicaragua",
	            "nl", "Netherlands",
	            "no", "Norway",
	            "np", "Nepal",
	            "nr", "Nauru",
	            "nt", "Neutral Zone",
	            "nu", "Niue",
	            "nz", "New Zealand",
	            "om", "Oman",
	            "pa", "Panama",
	            "pe", "Peru",
	            "pf", "Polynesia (French)",
	            "pg", "Papua New Guinea",
	            "ph", "Philippines",
	            "pk", "Pakistan",
	            "pl", "Poland",
	            "pm", "Saint Pierre and Miquelon",
	            "pn", "Pitcairn Island",
	            "pr", "Puerto Rico",
	            "pt", "Portugal",
	            "pw", "Palau",
	            "py", "Paraguay",
	            "qa", "Qatar",
	            "re", "Reunion (French)",
	            "ro", "Romania",
	            "rs", "Serbia",
	            "ru", "Russian Federation",
	            "rw", "Rwanda",
	            "sa", "Saudi Arabia",
	            "sb", "Solomon Islands",
	            "sc", "Seychelles",
	            "sd", "Sudan",
	            "se", "Sweden",
	            "sg", "Singapore",
	            "sh", "Saint Helena",
	            "si", "Slovenia",
	            "sj", "Svalbard and Jan Mayen Islands",
	            "sk", "Slovak Republic",
	            "sl", "Sierra Leone",
	            "sm", "San Marino",
	            "sn", "Senegal",
	            "so", "Somalia",
	            "sr", "Suriname",
	            "st", "Saint Tome (Sao Tome) and Principe",
	            "su", "Former USSR",
	            "sv", "El Salvador",
	            "sy", "Syria",
	            "sz", "Swaziland",
	            "tc", "Turks and Caicos Islands",
	            "td", "Chad",
	            "tf", "French Southern Territories",
	            "tg", "Togo",
	            "th", "Thailand",
	            "tj", "Tadjikistan",
	            "tk", "Tokelau",
                    "tl", "Indonesia",
	            "tm", "Turkmenistan",
	            "tn", "Tunisia",
	            "to", "Tonga",
	            "tp", "East Timor",
	            "tr", "Turkey",
	            "tt", "Trinidad and Tobago",
	            "tv", "Tuvalu",
	            "tw", "Taiwan",
	            "tz", "Tanzania",
	            "ua", "Ukraine",
	            "ug", "Uganda",
	            "uk", "United Kingdom",
	            "um", "USA Minor Outlying Islands",
	            "us", "United States",
	            "uy", "Uruguay",
	            "uz", "Uzbekistan",
	            "va", "Holy See (Vatican City State)",
	            "vc", "Saint Vincent & Grenadines",
	            "ve", "Venezuela",
	            "vg", "Virgin Islands (British)",
	            "vi", "Virgin Islands (USA)",
	            "vn", "Vietnam",
	            "vu", "Vanuatu",
	            "wf", "Wallis and Futuna Islands",
	            "ws", "Samoa",
	            "ye", "Yemen",
	            "yt", "Mayotte",
	            "yu", "Yugoslavia",
	            "za", "South Africa",
	            "zm", "Zambia",
	            "zr", "Zaire",
	            "zw", "Zimbabwe",        };

                // try to get country code from phone manager
		TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);
		String countryCode = tm.getNetworkCountryIso();
		if (countryCode.equals("")) {
                   // if this failes, use locale that the phone/tablet is set to
                   countryCode = ctx.getResources().getConfiguration().locale.getCountry().toLowerCase();
   		   if (countryCode.equals("")) {
		   	   countryCode = "Unknown";
		   }
		}
                String countryName = countryCode;
		for (int i = 0; i < world.length; i += 2) {
                   if (world[i].equals(countryCode)) {
                      countryName = world[i+1];
                   }
                }
		return countryName;
	}

	public static String getDevice() {
		return SystemProperties.get("ro.product.model");
	}

	public static String getModVersion() {
		return SystemProperties.get("ro.build.display.id");
	}

	public static String getRomName() {
		return SystemProperties.get("ro.romstats.name");
	}

	public static String getRomVersion() {
		return SystemProperties.get("ro.romstats.version");
	}
	
	public static String getRomVersionHash() {
		String romHash = getRomName() + getRomVersion();
		return digest(romHash);
	}
	
	public static long getTimeFrame() {
		String tFrameStr = SystemProperties.get("ro.romstats.tframe", "7");
		return Long.valueOf(tFrameStr);
	}

	public static String digest(String input) {
		try {
			MessageDigest md = MessageDigest.getInstance("MD5");
			return new BigInteger(1, md.digest(input.getBytes())).toString(16).toUpperCase(Locale.US);
		} catch (Exception e) {
			return null;
		}
	}
	
	public static String getSigningCert(Context context) {
		PackageInfo packageInfo = null;

		try {
			packageInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES);
		} catch (NameNotFoundException e) {
			e.printStackTrace();
		}
		Signature[] signatures = packageInfo.signatures;
		
		String signingCertHash = digest(signatures[0].toCharsString());
		
		return signingCertHash;
	}
	
	public static String getGaTracking() {
		String gaTracking = SystemProperties.get("ro.romstats.ga");
		
		if (gaTracking.isEmpty()) {
			return null;
		}
		
		return gaTracking;
	}
	
	/**
	 * Gets the Ask First value
	 * 0: RomStats will behave like CMStats, starts reporting automatically after the tframe (default)
	 * 1: RomStats will behave like the old CMStats, asks the user on first boot
	 * 
	 * @return boolean
	 */
	public static int getReportingMode() {
		String askFirst = SystemProperties.get("ro.romstats.askfirst", "0");
		
		if ("0".equals(askFirst)) {
			return Const.ROMSTATS_REPORTING_MODE_NEW;
		} else {
			return Const.ROMSTATS_REPORTING_MODE_OLD;
		}
	}
	
	/**
	 * 
	 * @param context
	 * @return
	 * 	false: opt out cookie not present, work normally
	 * 	true: opt out cookie present, disable and close
	 */
	public static boolean persistentOptOut(Context context) {
		SharedPreferences prefs = AnonymousStats.getPreferences(context);
		
		Log.d(Const.TAG, "[checkPersistentOptOut] Check prefs exist: " + prefs.contains(Const.ANONYMOUS_OPT_IN));
		if (!prefs.contains(Const.ANONYMOUS_OPT_IN)) {
			Log.d(Const.TAG, "[checkPersistentOptOut] New install, check for 'Persistent cookie'");
			
			File sdCard = Environment.getExternalStorageDirectory();
			File dir = new File (sdCard.getAbsolutePath() + "/.AICPROMStats");
			File cookieFile = new File(dir, "optout");
			
			if (cookieFile.exists()) {
				// if cookie exists, disable everything by setting:
				//   OPT_IN = false
				//   FIRST_BOOT = false
				Log.d(Const.TAG, "[checkPersistentOptOut] Persistent cookie exists -> Disable everything");
				
				prefs.edit().putBoolean(Const.ANONYMOUS_OPT_IN, false).apply();
				prefs.edit().putBoolean(Const.ANONYMOUS_FIRST_BOOT, false).apply();
				
				SharedPreferences mainPrefs = PreferenceManager.getDefaultSharedPreferences(context);
				mainPrefs.edit().putBoolean(Const.ANONYMOUS_OPT_IN, false).apply();
				mainPrefs.edit().putBoolean(Const.ANONYMOUS_OPT_OUT_PERSIST, true).apply();
				
				return true;
			} else {
				Log.d(Const.TAG, "[checkPersistentOptOut] No persistent cookie found");
			}
		};
		
		return false;
	}

	public static void checkIconVisibility(Context context) {
		File sdCard = Environment.getExternalStorageDirectory();
		File dir = new File (sdCard.getAbsolutePath() + "/.AICPROMStats");
		File cookieFile = new File(dir, "hide_icon");
		
		PackageManager p = context.getPackageManager();
		ComponentName componentToDisable = new ComponentName("com.lordclockan.aicpextras",
                        "com.lordclockan.aicpextras.romstats.AnonymousStats");
		if (cookieFile.exists()) {
			// exist, hide icon
			p.setComponentEnabledSetting(componentToDisable, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, PackageManager.DONT_KILL_APP);
		} else {
			// does not exist, show icon
			p.setComponentEnabledSetting(componentToDisable, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);
		}
	}
	
	
}
